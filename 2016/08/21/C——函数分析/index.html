
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>C语言:函数分析 | take that的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="takethat">
    

    
	<meta name="keywords" content="嵌入式, C++, C, Linux">
    <meta name="description" content="main函数传参数">
<meta property="og:type" content="article">
<meta property="og:title" content="C语言:函数分析">
<meta property="og:url" content="http://www.vivatakethat.com/2016/08/21/C——函数分析/index.html">
<meta property="og:site_name" content="take that的博客">
<meta property="og:description" content="main函数传参数">
<meta property="og:image" content="http://7xsic8.com1.z0.glb.clouddn.com/scanf_0.png">
<meta property="og:image" content="http://7xsic8.com1.z0.glb.clouddn.com/scanf.png">
<meta property="og:updated_time" content="2016-12-07T16:36:57.473Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C语言:函数分析">
<meta name="twitter:description" content="main函数传参数">

    
    <link rel="alternative" href="/atom.xml" title="take that的博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.png">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.png">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/batman.jpg" alt="take that的博客" title="take that的博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="take that的博客">take that的博客</a></h1>
				<h2 class="blog-motto">要有输入，输出</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页|Home</a></li>
					
						<li><a href="/archives">归档|Archives</a></li>
					
						<li><a href="/tags">标签|Tags</a></li>
					
						<li><a href="/categories">分类|Categories</a></li>
					
						<li><a href="/about">关于|About</a></li>
					
					<li>
 					
						<form class="search" action="http://zhannei.baidu.com/cse/search" target="_blank">
							<label>Search</label>
						<input name="s" type="hidden" value= 12341059951958788027 ><input type="text" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/08/21/C——函数分析/" title="C语言:函数分析" itemprop="url">C语言:函数分析</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="takethat" target="_blank" itemprop="author">takethat</a>
		
  <p class="article-time">
  <span id="busuanzi_container_page_pv">
    总阅读<span id="busuanzi_value_page_pv"></span>次
</span>
    <time datetime="2016-08-21T08:17:32.000Z" itemprop="datePublished"> 发表于 2016-08-21</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#fopen"><span class="toc-number">1.</span> <span class="toc-text">fopen</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#atan与atan2"><span class="toc-number">2.</span> <span class="toc-text">atan与atan2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#fabs"><span class="toc-number">3.</span> <span class="toc-text">fabs</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#fread"><span class="toc-number">4.</span> <span class="toc-text">fread</span></a></li></ol>
		
		</div>
		
		<p>main函数传参数</p>
<a id="more"></a>
<p>int main(int argc,char *argv[])</p>
<ul>
<li><p>参数argc：表示参数的个数</p>
<blockquote>
<p>argc记录了用户在运行程序的命令行中输入的参数的个数(包括程序本身)</p>
</blockquote>
</li>
<li><p>参数*argv:表示输入字符的数组</p>
<blockquote>
<p>arg[]指向的数组中至少有一个字符指针，即arg[0].他通常指向程序中的可执行文件的文件名。</p>
<blockquote>
<p>在有些版本的编译器中还包括程序文件所在的路径。</p>
</blockquote>
</blockquote>
</li>
</ul>
<p>附一段 K&amp;R C 原话</p>
<p>In environments that support C, there is a way to pass command-line arguments or parameters to a program when it begins executing. When main is called, it is called with two arguments. The first (conventionally called argc, for argument count) is the number of command-line （注意所在位置，是WIN命令提示符中，或LINUX命令行中）arguments the program was invoked with; the second (argv, for argument vector) is a pointer to an array of character strings that contain the arguments, one per string. We customarily use multiple levels of pointers to manipulate these character strings.</p>
<hr>
<p>ioctl函数<br>一、 什么是ioctl<br>    ioctl是设备驱动程序中对设备的I/O通道进行管理的函数。所谓对I/O通道进行管理，就是对设备的一些特性进行控制，例如串口的传输波特率、马达的转速等等。它的调用个数如下：<br>int ioctl(int fd, ind cmd, …)；<br>    其中fd是用户程序打开设备时使用open函数返回的文件标示符，cmd是用户程序对设备的控制命令，至于后面的省略号，那是一些补充参数，一般最多一个，这个参数的有无和cmd的意义相关。<br>    ioctl函数是文件结构中的一个属性分量，就是说如果你的驱动程序提供了对ioctl的支持，用户就可以在用户程序中使用ioctl函数来控制设备的I/O通道。</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ioctl</span><span class="params">(<span class="keyword">int</span> fd,<span class="keyword">int</span> request,<span class="keyword">int</span> cmd)</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>fd &nbsp;:函数Open</p>
</li>
<li></li>
</ul>
<p>IOCTL(2)                                                         Linux Programmer’s Manual                                                        IOCTL(2)</p>
<p>NAME<br>       ioctl - control device</p>
<p>SYNOPSIS</p>
<pre><code>#include &lt;sys/ioctl.h&gt;

int ioctl(int d, int request, ...);
</code></pre><p>DESCRIPTION<br>       The  ioctl()  function  manipulates  the underlying device parameters of special files.  In particular, many operating characteristics of character<br>       special files (e.g., terminals) may be controlled with ioctl() requests.  The argument d must be an open file descriptor.</p>
<pre><code>The second argument is a device-dependent request code.  The third argument is an untyped pointer to memory.  It&apos;s traditionally char  *argp  (from
the days before void * was valid C), and will be so named for this discussion.

An  ioctl() request has encoded in it whether the argument is an in parameter or out parameter, and the size of the argument argp in bytes.  Macros
and defines used in specifying an ioctl() request are located in the file &lt;sys/ioctl.h&gt;.
</code></pre><p>RETURN VALUE<br>       Usually, on success zero is returned.  A few ioctl() requests use the return value as an output parameter and return a nonnegative  value  on  suc‐<br>       cess.  On error, -1 is returned, and errno is set appropriately.</p>
<p>ERRORS<br>       EBADF  d is not a valid descriptor.</p>
<pre><code>EFAULT argp references an inaccessible memory area.

EINVAL Request or argp is not valid.

ENOTTY d is not associated with a character special device.

ENOTTY The specified request does not apply to the kind of object that the descriptor d references.
</code></pre><p>其它：<br>Q1:是不是要有open函数操作，itoctl才能成功操作成功呢？</p>
<p>结论：必须要有Open函数才能执行itoctl,命令才能执行成功。</p>
<p>测试代码1：无open函数<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;sys/ioctl.h&gt;</span>	</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span> *argv[])</span></span><br><span class="line"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> fd;</span><br><span class="line"><span class="keyword">char</span> *leds = <span class="string">"/dev/leds"</span>;</span><br><span class="line">ioctl(fd,atoi(argv[<span class="number">1</span>]),atoi(argv[<span class="number">2</span>]));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"ioctl %s success\n"</span>,leds);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>结果：指令无效</p>
<p>测试代码2：有Open函数<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;sys/ioctl.h&gt;</span>	</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span> *argv[])</span></span><br><span class="line"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> fd;</span><br><span class="line"><span class="keyword">char</span> *leds = <span class="string">"/dev/leds"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>((fd = open(leds, O_RDWR|O_NOCTTY|O_NDELAY))&lt;<span class="number">0</span>)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"open %s failed\n"</span>,leds);  </span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">ioctl(fd,atoi(argv[<span class="number">1</span>]),atoi(argv[<span class="number">2</span>]));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"ioctl %s success\n"</span>,leds);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>atoi</p>
<p>头文件：#include <strong><stdlib.h></stdlib.h></strong></p>
<p>atoi() 函数用来将字符串转换成整数(int)，其原型为：<br>int atoi (const char * str);</p>
<p>【函数说明】atoi() 函数会扫描参数 str 字符串，跳过前面的空白字符（例如空格，tab缩进等，可以通过 isspace() 函数来检测），直到遇上数字或正负符号才开始做转换，而再遇到非数字或字符串结束符(‘\0’)才结束转换，并将结果返回。</p>
<p>【返回值】返回转换后的整型数；如果 str 不能转换成 int 或者 str 为空字符串，那么将返回 0。</p>
<p>温馨提示：ANSI C 规范定义了 stof()、atoi()、atol()、strtod()、strtol()、strtoul() 共6个可以将字符串转换为数字的函数，大家可以对比学习。另外在 C99 / C++11 规范中又新增了5个函数，分别是 atoll()、strtof()、strtold()、strtoll()、strtoull()，在此不做介绍，请大家自行学习。</p>
<hr>
<p>EOF</p>
<p>EOF是指文件的结束符，是一个宏定义.<br>对于键盘输入来说，getchar()只有在遇到文本结束标记（ASCII编码为26）时才会返回EOF，其它情况都会返回一个输入符号值。所以对于这种程序，要想让循环信息运行，只能输入这个文本结束标记。输入这个标记有多种方法，常用的就是按F6键，或者按Ctrl-Z组合键，或者打开数字小键盘之后按住Alt键再依次按小键盘上的26两个数字键最后放开Alt键，等，都可以输入这个文本结束标记.</p>
<hr>
<p>scanf</p>
<p>scanf函数会忽略<code>空白字符</code>（white-space character,包括空格符、水平和垂直制表符、换页符和换行符）。</p>
<ol>
<li>如果某一项不能成功读入，那么scanf函数将不能查看格式串剩余的部分（或余下的输入数据）而立即返回。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a, b;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d /%d"</span>, &amp;a,&amp;b);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>若程序输入:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?<span class="number">4</span>¤</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>¤  &nbsp; ：回车</p>
</blockquote>
<p><img src="http://7xsic8.com1.z0.glb.clouddn.com/scanf_0.png" alt="变量观察表" title="变量观察表">；<br>scanf没有将4读入变量b中。</p>
<ol>
<li>当scanf函数遇到一个不可能属于当前项的字符时，它会“放回原处”，以便在扫描下一个输入向或下一次调用scanf函数时再次读入。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">float</span> x, y;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%f%f"</span>, &amp;i, &amp;j, &amp;x, &amp;y);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>输入:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>-<span class="number">20.3</span>-<span class="number">4.0e3</span>¤</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>¤ 回车符号</p>
</blockquote>
<p><img src="http://7xsic8.com1.z0.glb.clouddn.com/scanf.png" alt="变量监视表" title="变量监视表"></p>
<ol>
<li>scanf，</li>
</ol>
<p>fopen、atan</p>
<!--more-->
<h1 id="fopen"><a href="#fopen" class="headerlink" title="fopen"></a>fopen</h1><p><strong><code>FILE *fopen(const char * restrict filename,const char * restrict mode);</code></strong></p>
<blockquote>
<p>fopen函数的第一个参数是含有要打开文件名的字符串。<em>(“文件名”可能包含关于文件位置的信息，如驱动器符或路径)</em></p>
<blockquote>
<p>第2个参数是“模式字符串”，它用来指定打算对文件执行的操作。例如，字符串<code>r</code>表明只读取数据。</p>
<blockquote>
<p>注意fopen函数原型中，restrict关键字出现了2次。restrict表明filename和mode所执行的字符串的内存单元不共享。<br><code>fopen</code>函数返回一个文件指针。</p>
<blockquote>
<p>程序可以把此指针存储在一个变量中，稍后需要对文件进行操作时使用它。</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p><strong>用于文本模式字符串</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">字符串</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>r</code></td>
<td style="text-align:center">只读</td>
</tr>
<tr>
<td style="text-align:center"><code>w</code></td>
<td style="text-align:center">写（文件不需要存在）</td>
</tr>
<tr>
<td style="text-align:center"><code>a</code></td>
<td style="text-align:center">打开文件用于追加(文件不需要存在)</td>
</tr>
<tr>
<td style="text-align:center"><code>r+</code></td>
<td style="text-align:center">打开文件用于读和写(从文件头开始)</td>
</tr>
<tr>
<td style="text-align:center"><code>w+</code></td>
<td style="text-align:center">打开文件用于读和写(如果文件存在就截去)</td>
</tr>
<tr>
<td style="text-align:center"><code>a+</code></td>
<td style="text-align:center">打算开文件用于读和写(如果文件存在就追加)</td>
</tr>
</tbody>
</table>
<h1 id="atan与atan2"><a href="#atan与atan2" class="headerlink" title="atan与atan2"></a>atan与atan2</h1><p>C语言的math.h或C++的cmath有2个求正反切的函数atan(double x)与atan2(double y,double x)它们的返回值是弧度要专为角度再自己处理一下。</p>
<p><strong><code>atan</code></strong>:接受的是一个正切值（直线的斜率）得到夹角，但是由于正切的规律性本可以有两个角度的但它却只返回一个，因为atan的值域是从-90~90 也就是它只处理一四象限，所以一般不用它。</p>
<p>相比较ATan，ATan2究竟有什么不同</p>
<p>对于tan(θ) = y / x:</p>
<p>θ = ATan(y / x)求出的θ取值范围是[-PI/2, PI/2]。<br><strong><code>atan</code></strong>:接受的是<strong><code>一个正切值</code></strong>（直线的斜率）得到夹角，但是由于正切的规律性本可以有两个角度的但它却只返回一个，因为atan的值域是从-90~90 也就是它只处理一四象限，所以一般不用它。</p>
<p>θ = ATan2(y, x)求出的θ取值范围是[-PI, PI]。<br><strong><code>atan2</code></strong>:第二个atan2(double y,double x) 其中y代表已知点的Y坐标 同理x ,返回值是此点与远点连线与x轴正方向的夹角，这样它就可以处理四个象限的任意情况了，它的值域相应的也就是-180~180了</p>
<p>例如：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"atan=%f\n"</span>, <span class="built_in">atan</span>(<span class="number">1.0</span>)*<span class="number">180</span>/<span class="number">3.14</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"atan2=%f\n\n"</span>, <span class="built_in">atan2</span>(<span class="number">15</span>, <span class="number">15</span>) * <span class="number">180</span> / <span class="number">3.14</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>其运行结果：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">atan</span>=<span class="number">45.022825</span></span><br><span class="line"><span class="built_in">atan2</span>=<span class="number">45.022825</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p><strong>各个象限θ范围</strong></p>
<ol>
<li><p>当 (x, y) 在第一象限, 0 &lt; θ &lt; PI/2.</p>
</li>
<li><p>当 (x, y) 在第二象限 PI/2 &lt; θ≤PI.</p>
</li>
<li><p>当 (x, y) 在第三象限, -PI &lt; θ &lt; -PI/2.</p>
</li>
<li><p>当 (x, y) 在第四象限, -PI/2 &lt; θ &lt; 0.</p>
</li>
</ol>
<p><strong>当点(x, y)在象限的边界也就是坐标轴上时:</strong></p>
<ol>
<li><p>当 y 是 0，x 为非负值, θ = 0.</p>
</li>
<li><p>当 y 是 0， x 是 负值, θ = PI.</p>
</li>
<li><p>当 y 是 正值， x 是 0, θ = PI/2.</p>
</li>
<li><p>当 y 是 负值， x 是 0, θ = -PI/2.</p>
</li>
</ol>
<h1 id="fabs"><a href="#fabs" class="headerlink" title="fabs"></a>fabs</h1><p>求绝对值函数，fabs(x)，求出x的绝对值，和数学上的概念相同</p>
<blockquote>
<p>调用该函数需要#include<math.h><br>实例：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"fabs(3.5)\t=%f\n"</span>,<span class="built_in">fabs</span>(<span class="number">3.5</span>));</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"fabs(-3.5)\t=%f\n"</span>,<span class="built_in">fabs</span>(-<span class="number">3.5</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></math.h></p>
</blockquote>
<p>运行结果：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fabs</span>(<span class="number">3.5</span>)       =<span class="number">3.500000</span></span><br><span class="line"><span class="built_in">fabs</span>(-<span class="number">3.5</span>)      =<span class="number">3.500000</span></span><br></pre></td></tr></table></figure></p>
<h1 id="fread"><a href="#fread" class="headerlink" title="fread"></a>fread</h1><p>fread</p>
<p>函数原型:</p>
<p><strong>size_t fread(void<em> buff,size_t size,size_t count,FILE</em> stream)</strong></p>
<p>作用：从文件中读入数据到指定的地址中</p>
<p>参数：</p>
<blockquote>
<p>第一个参数为接收数据的指针(buff),也即数据存储的地址</p>
<blockquote>
<p>第二个参数为单个元素的大小，即由指针写入地址的数据大小，注意单位是字节</p>
<blockquote>
<p>第三个参数为元素个数，即要读取的数据大小为size的元素个素</p>
<blockquote>
<p>第四个参数为提供数据的文件指针，该指针指向文件内部数据</p>
<blockquote>
<p>返回值：读取的总数据元素个数</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>例：.<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>  num,<span class="keyword">count</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>* pr=<span class="keyword">new</span> <span class="keyword">int</span>[num*<span class="keyword">count</span>];</span><br><span class="line"></span><br><span class="line">fread(pr, num*<span class="number">4</span>, <span class="keyword">count</span>, stream);   <span class="comment">// stream为fopen中返回的FILE指针</span></span><br></pre></td></tr></table></figure></p>
<p>要将数据写入pr中，必须为pr分配内存，一个int为4个字节，所以要x4</p>
<p>补充：<br><strong>size_t 类型</strong></p>
<p>size _t 为了增强程序的可移植性，便有了size_t ，不同系统上，定义size_t可能不一样。</p>
<p>经测试发现，在32位系统中size_t是4字节的，在64位系统中，size_t是8字节的，这样利用该类型可以增加程序移植性。</p>
<p>size_t一般用来表示一种计数，比如有多少东西被拷贝等。例如：sizeof操作符的结果类型是size_t，该类型保证能容纳实现所建立的最大对象的字节大小。 它的意义大致是“适于计量内存中可容纳的数据项目个数的无符号整数类型”。所以，它在数组下标和内存管理函数之类的地方广泛使用。</p>
  
	</div>

	<!-- css -->
	<style type="text/css">
	    .center {
	        text-align: center;
	    }
	    .hidden {
	        display: none;
	    }
		.donate_bar a.btn_donate{
			display: inline-block;
			width: 82px;
			height: 82px;
			background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;
			_background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;

			<!-- http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif
			     因为本 hexo 生成的博客所用的 theme 的 a:hover 带动画效果，
				 为了在让打赏按钮显示效果正常 而 添加了以下几行 css，
				 嵌入其它博客时不一定要它们。 -->
			-webkit-transition: background 0s;
			-moz-transition: background 0s;
			-o-transition: background 0s;
			-ms-transition: background 0s;
			transition: background 0s;
			<!-- /让打赏按钮的效果显示正常 而 添加的几行 css 到此结束 -->
		}

		.donate_bar a.btn_donate:hover{ background-position: 0px -82px;}
		.donate_bar .donate_txt {
			display: block;
			color: #9d9d9d;
			font: 14px/2 "Microsoft Yahei";
		}
		.bold{ font-weight: bold; }
	</style>
	<!-- /css -->

    <!-- Donate Module -->
    <div id="donate_module">

	<!-- btn_donate & tips -->
	<div id="donate_board" class="donate_bar center">
	    <br>
	    ------------------------------------------------------------------------------------------------------------------------------
	    <br>
		<a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
		<span class="donate_txt">
			打赏我的人,运气都不会太差~
		</span>
			
		
	</div>
	<!-- /btn_donate & tips -->

	<!-- donate guide -->
    
	<div id="donate_guide" class="donate_bar center hidden">
        <br>
	    ------------------------------------------------------------------------------------------------------------------------------
	    <br>
	    

		<a href="http://7xsic8.com1.z0.glb.clouddn.com/qr_wechar.png" title="用微信扫一扫哦~" class="fancybox" rel="article0">
			<img src="http://7xsic8.com1.z0.glb.clouddn.com/qr_wechar.png" title="微信打赏 Donate" height="190px" width="auto"/>
		</a>
        
        &nbsp;&nbsp;

		<a href="http://7xsic8.com1.z0.glb.clouddn.com/qr_alipay0.jpg" title="用支付宝扫一扫即可~" class="fancybox" rel="article0">
			<img src="http://7xsic8.com1.z0.glb.clouddn.com/qr_alipay0.jpg" title="支付宝打赏 Donate" height="190px" width="auto"/>
		</a>

		<span class="donate_txt">
			打赏我的人,运气都不会太差~
		</span>

	</div>
	<!-- /donate guide -->

	<!-- donate script -->
	<script type="text/javascript">
		document.getElementById('btn_donate').onclick = function() {
			$('#donate_board').addClass('hidden');
	    $('#donate_guide').removeClass('hidden');
		}

		function donate_on_web(){
			$('#donate').submit();
        }

		var original_window_onload = window.onload;
        window.onload = function () {
            if (original_window_onload) {
                original_window_onload();
            }
            document.getElementById('donate_board_wdg').className = 'hidden';
		}
	</script>
	<!-- /donate script -->
</div>
<!-- /Donate Module -->
   
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/C-C-Qt/">C | C++ | Qt</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/memo/">memo</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://www.vivatakethat.com/2016/08/21/C——函数分析/" data-title="C语言:函数分析 | take that的博客" data-tsina="undefined" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/08/21/C——memo_待整理/" title="C语言memo_待整理">
  <strong>上一篇：</strong><br/>
  <span>
  C语言memo_待整理</span>
</a>
</div>


<div class="next">
<a href="/2016/08/16/嵌入式Linux基础教程-笔记/"  title="Linux基础教程-笔记">
 <strong>下一篇：</strong><br/> 
 <span>Linux基础教程-笔记
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2016/08/21/C——函数分析/" data-title="C语言:函数分析" data-url="http://www.vivatakethat.com/2016/08/21/C——函数分析/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#fopen"><span class="toc-number">1.</span> <span class="toc-text">fopen</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#atan与atan2"><span class="toc-number">2.</span> <span class="toc-text">atan与atan2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#fabs"><span class="toc-number">3.</span> <span class="toc-text">fabs</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#fread"><span class="toc-number">4.</span> <span class="toc-text">fread</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="vivatakethat" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Book-Coursera/" title="Book | Coursera">Book | Coursera<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/C-C-Qt/" title="C | C++ | Qt">C | C++ | Qt<sup>30</sup></a></li>
		  
		
		  
			<li><a href="/categories/English/" title="English">English<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/Record/" title="Record">Record<sup>2</sup></a></li>
		  
		
		  
		
		  
			<li><a href="/categories/php-git-hexo/" title="php | git | hexo">php | git | hexo<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/云计算/" title="云计算">云计算<sup>10</sup></a></li>
		  
		
		  
			<li><a href="/categories/原理-理论/" title="原理 | 理论">原理 | 理论<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/基础学科/" title="基础学科">基础学科<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/嵌入式/" title="嵌入式">嵌入式<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/工程/" title="工程">工程<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/算法-结构/" title="算法 | 结构">算法 | 结构<sup>1</sup></a></li>
		  
		
		  
		
		  
			<li><a href="/categories/软件测试/" title="软件测试">软件测试<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/memo/" title="memo">memo<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/MCU/" title="MCU">MCU<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/PaaS/" title="PaaS">PaaS<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Record/" title="Record">Record<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C++">C++<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/驱动/" title="驱动">驱动<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Shell/" title="Shell">Shell<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Coursera-Algorithms/" title="Coursera-Algorithms">Coursera-Algorithms<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/字符设备/" title="字符设备">字符设备<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/QT/" title="QT">QT<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/PHP/" title="PHP">PHP<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/hexo/" title="hexo">hexo<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/git/" title="git">git<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/数学/" title="数学">数学<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/gcc/" title="gcc">gcc<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/软件测试/" title="软件测试">软件测试<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/逻辑/" title="逻辑">逻辑<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://stackoverflow.com/" target="_blank" title="一个面向程序员交流分享的新一代社区">Stack overflow</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.fiochen.me" target="_blank" title=" 甜甜哥哥的博客">思华的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.csdn.net/example440982" target="_blank" title="  庆威的博客">轻微的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.csdn.net/qq_31803503" target="_blank" title=" 俊城的博客">JC. Lin的博客</a>
            
          </li>
        
    </ul>
</div>

  <p class="asidetitle">热评文章</p>
<div class="ds-top-threads" data-range="monthly" data-num-items="5"></div>
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"vivatakethat"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer>
<div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Take That in here <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/vivatakethat" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		<a href="http://www.zhihu.com/people/vivatakethat" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		
		<a href="mailto:vivatakethat@foxmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015.4-2017
		
		<a href="/about" target="_blank" title="takethat">takethat</a>
		

		</p>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','Xd__7-Q-nUc6axwJDfV5','2.0.0');
</script>
</div>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<span id="busuanzi_container_site_pv">
      Total visits: <span id="busuanzi_value_site_pv"></span>
</span>
<span id="busuanzi_container_site_uv">
    You are Visiter No.<span id="busuanzi_value_site_uv"></span>
</span></footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    $('#toc.toc-aside').css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
      
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"vivatakethat"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
});
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?6f10d7c2f9fab5591ab7b7c322e0a114";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  </body>
</html>

